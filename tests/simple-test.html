<!DOCTYPE html>
<html>
<head>
  <title>Simple boreDOM Test</title>
  <script id="initial-state" type="application/json">
    { "count": 0 }
  </script>
  <script type="module" src="/dist/boreDOM.min.js" data-state="#initial-state"></script>
</head>
<body>
  <my-counter></my-counter>

  <template data-component="my-counter">
    <button data-dispatch="increment">+</button>
    <span data-ref="display">0</span>
    <button data-dispatch="decrement">-</button>
  </template>

  <script type="text/boredom" data-component="my-counter">
    export default ({ on }) => {
      on("increment", ({ state }) => { state.count++ })
      on("decrement", ({ state }) => { state.count-- })

      return ({ state, refs }) => {
        refs.display.textContent = "Count: " + state.count
      }
    }
  </script>
</body>
</html>